# Main
compiler: parser.o lex.o utility.o functionHash.o abstract_tree_utilities.o main.c
	cc -g -o asl_compiler lex.o parser.o utility.o functionHash.o abstract_tree_utilities.o main.c

# utilities
utility.o: utility.c
	cc -g -c utility.c
	
functionHash.o: functionHash.c
	cc -g -c functionHash.c
	
tree.o : tree.c
	cc -g -c tree.c

# Yacc compile
parser.o:   parser.c
	cc -g -c parser.c
	
parser.c:   parser.y
	bison -vd -o parser.c parser.y


# Insert lex compile commands
lex.o: lex.c parser.o
	cc -g -c lex.c
	
lex.c: sintaxAnalizer.lex
	flex -o lex.c sintaxAnalizer.lex


# Remove all files not needed
clear:
	rm *.o
	rm parser.output
	rm parser.c
rm lex.c
